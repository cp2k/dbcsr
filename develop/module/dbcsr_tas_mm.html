<!-- -*- mode: jinja2 -*- -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="description" content="">
    <meta name="author" content="DBCSR Authors" >
    <link rel="icon" href="../favicon.png">

    <title>dbcsr_tas_mm &ndash; DBCSR</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link href="../css/pygments.css" rel="stylesheet">
    <link href="../css/font-awesome.min.css" rel="stylesheet">
    <link href="../css/local.css" rel="stylesheet">

    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script src="../js/svg-pan-zoom.min.js"></script>
  </head>

  <body>

    <!-- Fixed navbar -->
    <div class="container-fluid mb-sm-4 mb-xl-2">
      <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <div class="container">
          <a class="navbar-brand" href="../index.html">DBCSR <small>2.7.0-rc1</small></a>
          <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar"
                  aria-expanded="false" aria-controls="navbar" aria-label="Toggle navigation">
                  <span class="navbar-toggler-icon">
          </button>

          <div id="navbar" class="navbar-collapse collapse">
            <ul class="navbar-nav">
                <li class="nav-item"><a class="nav-link" href="../page/index.html">Guide</a></li>
                  <li class="nav-item">
                    <a class="nav-link" href="../lists/files.html">Source Files</a>
                  </li>
                <li class="nav-item">
                  <a class="nav-link" href="../lists/modules.html">Modules</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="../lists/procedures.html">Procedures</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="../lists/absint.html">Abstract Interfaces</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="../lists/types.html">Derived Types</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="../lists/programs.html">Programs</a>
                </li>
            </ul>
          </div><!--/.nav-collapse -->
        </div>
      </nav>
    </div>

    <div class="container">
  <div class="row">
    <h1>dbcsr_tas_mm
      <small>Module</small>
      
    </h1>
      <div class="container p-2 mb-4 bg-light border rounded-3">
    <div class="row align-items-center justify-content-between" id="info-bar">
      <div class="col">
        <ul class="list-inline" style="margin-bottom:0px;display:inline">

            <li class="list-inline-item" id="statements"><i class="fa fa-list-ol"></i>
              <a data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-html="true"
                 title=" 1.8% of total for modules and submodules.">1190 statements</a>
            </li>

            <li class="list-inline-item" id="source-file">
              <i class="fa fa-code"></i>
              <a href="../src/dbcsr_tas_mm.F"> Source File</a>
            </li>
        </ul>
      </div>
      <div class="col">
        <nav aria-label="breadcrumb">
          <ol class="breadcrumb justify-content-end mb-0">
                <li class="breadcrumb-item"><a href='../sourcefile/dbcsr_tas_mm.f.html'>dbcsr_tas_mm.F</a></li>
            <li class="breadcrumb-item active" aria-current="page">dbcsr_tas_mm</li>
          </ol>
        </nav>
      </div>
    </div>
  </div>
  <script>
    $(function () {
    $('[data-bs-toggle="tooltip"]').tooltip()
    })
  </script>

  </div>

  <div class="row">
    <div class="col-md-3">
        <div id="sidebar">
      <h3>Contents</h3>
  
      <div class="card mb-4">
      <a data-bs-toggle="collapse" href="#vars-0"
         aria-expanded="false" aria-controls="vars-0">
         <h4 class="card-header bg-primary text-white">Variables</h4>
      </a>
      <div id="vars-0" class="collapse">
        <div class="list-group list-group-flush">
            <a class="list-group-item" href="../module/dbcsr_tas_mm.html#variable-modulen~36">moduleN</a>
        </div>
      </div>
    </div>

  
  
  
  
  
  
  
  
  
      <div class="card mb-4">
      <a data-bs-toggle="collapse" href="#funcs-0"
         aria-expanded="false" aria-controls="funcs-0">
         <h4 class="card-header bg-primary text-white">Functions</h4>
      </a>
      <div id="funcs-0" class="collapse">
        <div class="list-group list-group-flush">
            <a class="list-group-item" href="../module/dbcsr_tas_mm.html#proc-dist_compatible">dist_compatible</a>
            <a class="list-group-item" href="../module/dbcsr_tas_mm.html#proc-split_factor_estimate">split_factor_estimate</a>
        </div>
      </div>
    </div>

      <div class="card mb-4">
      <a data-bs-toggle="collapse" href="#subs-0"
         aria-expanded="false" aria-controls="subs-0">
         <h4 class="card-header bg-primary text-white">Subroutines</h4>
      </a>
      <div id="subs-0" class="collapse">
        <div class="list-group list-group-flush">
            <a class="list-group-item" href="../module/dbcsr_tas_mm.html#proc-dbcsr_tas_multiply">dbcsr_tas_multiply</a>
            <a class="list-group-item" href="../module/dbcsr_tas_mm.html#proc-redistribute_and_sum">redistribute_and_sum</a>
            <a class="list-group-item" href="../module/dbcsr_tas_mm.html#proc-reshape_mm_small">reshape_mm_small</a>
            <a class="list-group-item" href="../module/dbcsr_tas_mm.html#proc-reshape_mm_compatible">reshape_mm_compatible</a>
            <a class="list-group-item" href="../module/dbcsr_tas_mm.html#proc-change_split">change_split</a>
            <a class="list-group-item" href="../module/dbcsr_tas_mm.html#proc-reshape_mm_template">reshape_mm_template</a>
            <a class="list-group-item" href="../module/dbcsr_tas_mm.html#proc-dbcsr_tas_result_index">dbcsr_tas_result_index</a>
            <a class="list-group-item" href="../module/dbcsr_tas_mm.html#proc-create_block_norms_matrix">create_block_norms_matrix</a>
            <a class="list-group-item" href="../module/dbcsr_tas_mm.html#proc-convert_to_new_pgrid">convert_to_new_pgrid</a>
            <a class="list-group-item" href="../module/dbcsr_tas_mm.html#proc-dbcsr_tas_batched_mm_init">dbcsr_tas_batched_mm_init</a>
            <a class="list-group-item" href="../module/dbcsr_tas_mm.html#proc-dbcsr_tas_batched_mm_finalize">dbcsr_tas_batched_mm_finalize</a>
            <a class="list-group-item" href="../module/dbcsr_tas_mm.html#proc-dbcsr_tas_set_batched_state">dbcsr_tas_set_batched_state</a>
            <a class="list-group-item" href="../module/dbcsr_tas_mm.html#proc-dbcsr_tas_batched_mm_complete">dbcsr_tas_batched_mm_complete</a>
        </div>
      </div>
    </div>

  
  
  
  
  
  
  


  </div>

    </div>

    <div class="col-md-9" id='text'>
      <p>Matrix multiplication for tall-and-skinny matrices. This uses the k-split (non-recursive) CARMA
algorithm that is communication-optimal as long as the two smaller dimensions have
the same size.
Submatrices are obtained by splitting a dimension of the process grid. Multiplication of
submatrices uses DBCSR Cannon algorithm. Due to unknown sparsity pattern of result matrix, parameters
(group sizes and process grid dimensions) can not be derived from matrix dimensions and need to be
set manually.</p>
<br>          <div class="card mb-4">
      <h3 class="card-header card-title bg-light">Uses</h3>
      <div class="card-body">
        <ul class="list-group list-group-flush">
            <li class="list-group-item">
              <ul class="list-inline">
                  <li class="list-inline-item"><a href='dbcsr_kinds.html'>dbcsr_kinds</a></li>
                  <li class="list-inline-item"><a href='dbcsr_tas_base.html'>dbcsr_tas_base</a></li>
                  <li class="list-inline-item"><a href='dbcsr_data_types.html'>dbcsr_data_types</a></li>
                  <li class="list-inline-item"><a href='dbcsr_tas_split.html'>dbcsr_tas_split</a></li>
                  <li class="list-inline-item"><a href='dbcsr_dist_methods.html'>dbcsr_dist_methods</a></li>
                  <li class="list-inline-item"><a href='dbcsr_mpiwrap.html'>dbcsr_mpiwrap</a></li>
                  <li class="list-inline-item"><a href='dbcsr_base_hooks.html'>dbcsr_base_hooks</a></li>
                  <li class="list-inline-item"><a href='dbcsr_data_methods.html'>dbcsr_data_methods</a></li>
                  <li class="list-inline-item"><a href='dbcsr_tas_io.html'>dbcsr_tas_io</a></li>
                  <li class="list-inline-item"><a href='dbcsr_types.html'>dbcsr_types</a></li>
                  <li class="list-inline-item"><a href='dbcsr_config.html'>dbcsr_config</a></li>
                  <li class="list-inline-item"><a href='dbcsr_work_operations.html'>dbcsr_work_operations</a></li>
                  <li class="list-inline-item"><a href='dbcsr_multiply_api.html'>dbcsr_multiply_api</a></li>
                  <li class="list-inline-item"><a href='dbcsr_methods.html'>dbcsr_methods</a></li>
                  <li class="list-inline-item"><a href='dbcsr_operations.html'>dbcsr_operations</a></li>
                  <li class="list-inline-item"><a href='dbcsr_tas_types.html'>dbcsr_tas_types</a></li>
                  <li class="list-inline-item"><a href='dbcsr_tas_util.html'>dbcsr_tas_util</a></li>
                  <li class="list-inline-item"><a href='dbcsr_tas_global.html'>dbcsr_tas_global</a></li>
                  <li class="list-inline-item"><a href='dbcsr_tas_reshape_ops.html'>dbcsr_tas_reshape_ops</a></li>
                  <li class="list-inline-item"><a href='dbcsr_transformations.html'>dbcsr_transformations</a></li>
              </ul>
            </li>
        </ul>
      </div>
    </div>

      
      <br>


        <section>
          <h2>Variables</h2>
            <table class="table table-striped varlist">
    <thead>
      <tr>
        <th scope="col">Type</th>
<th scope="col">Visibility</th>        <th scope="col">Attributes</th>
        <th scope="col"></th>
        <th scope="col">Name</th>
<th></th><th scope="col">Initial</th>        <th scope="col"></th>
    </thead>
    <tbody>
        <tr>
            <td>
              <span class="anchor" id="variable-modulen~36"></span>
              character(len=*),
            </td>
              <td>private,</td>
            <td>
parameter               
            </td>
            <td>::</td>
            <td><strong>moduleN</strong></td>
<td> =</td>
                <td>&#39;dbcsr_tas_mm&#39;</td>
            <td>
                
            </td>
        </tr>
    </tbody>
  </table>

        </section>
        <br>





        <section>
          <h2>Functions</h2>
              <div class="card">
    <div class="card-header codesum"><span class="anchor" id="proc-dist_compatible"></span> <h3>private  function <a href='../proc/dist_compatible.html'>dist_compatible</a>(mat_a, mat_b, split_rc_a, split_rc_b, unit_nr)  
</h3></div>
    <div class="card-body">
          
  <p>Check whether matrices have same distribution and same split.</p>

  <h4>Arguments</h4>
      <table class="table table-striped varlist">
    <thead>
      <tr>
        <th scope="col">Type</th>
<th scope="col">Intent</th><th scope="col">Optional</th>        <th scope="col">Attributes</th>
        <th scope="col"></th>
        <th scope="col">Name</th>
        <th scope="col"></th>
    </thead>
    <tbody>
        <tr>
            <td>
              <span class="anchor" id="variable-mat_a"></span>
              type(<a href='../type/dbcsr_tas_type.html'>dbcsr_tas_type</a>),
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>mat_a</strong></td>
            <td>

            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-mat_b"></span>
              type(<a href='../type/dbcsr_tas_type.html'>dbcsr_tas_type</a>),
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>mat_b</strong></td>
            <td>

            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-split_rc_a"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>split_rc_a</strong></td>
            <td>

            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-split_rc_b"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>split_rc_b</strong></td>
            <td>

            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-unit_nr~22"></span>
              integer,
            </td>
<td>intent(in),</td>
              <td>optional</td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>unit_nr</strong></td>
            <td>

            </td>
        </tr>
    </tbody>
  </table>

    <h4>
    Return Value
    <small>logical</small>
    </h4>
    

    </div>
  </div>

              <div class="card">
    <div class="card-header codesum"><span class="anchor" id="proc-split_factor_estimate"></span> <h3>private  function <a href='../proc/split_factor_estimate.html'>split_factor_estimate</a>(max_mm_dim, nze_a, nze_b, nze_c, numnodes) result(nsplit)  
</h3></div>
    <div class="card-body">
          
  <p>Estimate optimal split factor for AxB=C from occupancies (number of non-zero elements)
This estimate is based on the minimization of communication volume whereby
the communication of CARMA n-split step and CANNON-multiplication of submatrices are
considered.
\result estimated split factor</p>

  <h4>Arguments</h4>
      <table class="table table-striped varlist">
    <thead>
      <tr>
        <th scope="col">Type</th>
<th scope="col">Intent</th><th scope="col">Optional</th>        <th scope="col">Attributes</th>
        <th scope="col"></th>
        <th scope="col">Name</th>
        <th scope="col"></th>
    </thead>
    <tbody>
        <tr>
            <td>
              <span class="anchor" id="variable-max_mm_dim~2"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>max_mm_dim</strong></td>
            <td>

            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-nze_a~2"></span>
              integer(kind=int_8),
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>nze_a</strong></td>
            <td>
<p>number of non-zeroes in A
number of non-zeroes in B
number of non-zeroes in C</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-nze_b~2"></span>
              integer(kind=int_8),
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>nze_b</strong></td>
            <td>
<p>number of non-zeroes in A
number of non-zeroes in B
number of non-zeroes in C</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-nze_c~2"></span>
              integer(kind=int_8),
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>nze_c</strong></td>
            <td>
<p>number of non-zeroes in A
number of non-zeroes in B
number of non-zeroes in C</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-numnodes~43"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>numnodes</strong></td>
            <td>
<p>number of MPI ranks</p>
            </td>
        </tr>
    </tbody>
  </table>

    <h4>
    Return Value
    <small>integer</small>
    </h4>
    

    </div>
  </div>

        </section>
        <br>

        <section>
          <h2>Subroutines</h2>
              <div class="card">
    <div class="card-header codesum"><span class="anchor" id="proc-dbcsr_tas_multiply"></span> <h3>public recursive subroutine <a href='../proc/dbcsr_tas_multiply.html'>dbcsr_tas_multiply</a>(transa, transb, transc, alpha, matrix_a, matrix_b, beta, matrix_c, optimize_dist, split_opt, filter_eps, flop, move_data_a, move_data_b, retain_sparsity, simple_split, result_index, unit_nr, log_verbose)  
</h3></div>
    <div class="card-body">
          
  <p>tall-and-skinny matrix-matrix multiplication. Undocumented dummy arguments are identical to
arguments of dbcsr_multiply (see dbcsr_mm, dbcsr_multiply_generic).</p>

  <h4>Arguments</h4>
      <table class="table table-striped varlist">
    <thead>
      <tr>
        <th scope="col">Type</th>
<th scope="col">Intent</th><th scope="col">Optional</th>        <th scope="col">Attributes</th>
        <th scope="col"></th>
        <th scope="col">Name</th>
        <th scope="col"></th>
    </thead>
    <tbody>
        <tr>
            <td>
              <span class="anchor" id="variable-transa~7"></span>
              character(len=1),
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>transa</strong></td>
            <td>

            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-transb~7"></span>
              character(len=1),
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>transb</strong></td>
            <td>

            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-transc~3"></span>
              character(len=1),
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>transc</strong></td>
            <td>

            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-alpha~25"></span>
              type(<a href='../type/dbcsr_scalar_type.html'>dbcsr_scalar_type</a>),
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>alpha</strong></td>
            <td>

            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-matrix_a~54"></span>
              type(<a href='../type/dbcsr_tas_type.html'>dbcsr_tas_type</a>),
            </td>
<td>intent(inout),</td>
              <td></td>            <td>
              TARGET
            </td>
            <td>::</td>
            <td><strong>matrix_a</strong></td>
            <td>

            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-matrix_b~35"></span>
              type(<a href='../type/dbcsr_tas_type.html'>dbcsr_tas_type</a>),
            </td>
<td>intent(inout),</td>
              <td></td>            <td>
              TARGET
            </td>
            <td>::</td>
            <td><strong>matrix_b</strong></td>
            <td>

            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-beta~6"></span>
              type(<a href='../type/dbcsr_scalar_type.html'>dbcsr_scalar_type</a>),
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>beta</strong></td>
            <td>

            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-matrix_c~9"></span>
              type(<a href='../type/dbcsr_tas_type.html'>dbcsr_tas_type</a>),
            </td>
<td>intent(inout),</td>
              <td></td>            <td>
              TARGET
            </td>
            <td>::</td>
            <td><strong>matrix_c</strong></td>
            <td>

            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-optimize_dist"></span>
              logical,
            </td>
<td>intent(in),</td>
              <td>optional</td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>optimize_dist</strong></td>
            <td>
<p>Whether distribution should be optimized internally. In the current implementation this guarantees optimal parameters
only for dense matrices.</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-split_opt"></span>
              type(<a href='../type/dbcsr_tas_split_info.html'>dbcsr_tas_split_info</a>),
            </td>
<td>intent(out),</td>
              <td>optional</td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>split_opt</strong></td>
            <td>
<p>optionally return split info containing optimal grid and split parameters. This can be used to choose optimal process
grids for subsequent matrix multiplications with matrices of similar shape and sparsity.</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-filter_eps~12"></span>
              real(kind=real_8),
            </td>
<td>intent(in),</td>
              <td>optional</td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>filter_eps</strong></td>
            <td>

            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-flop~13"></span>
              integer(kind=int_8),
            </td>
<td>intent(out),</td>
              <td>optional</td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>flop</strong></td>
            <td>

            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-move_data_a"></span>
              logical,
            </td>
<td>intent(in),</td>
              <td>optional</td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>move_data_a</strong></td>
            <td>
<p>memory optimization: move data to matrix_c such that matrix_a is empty on return
memory optimization: move data to matrix_c such that matrix_b is empty on return
for internal use only</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-move_data_b"></span>
              logical,
            </td>
<td>intent(in),</td>
              <td>optional</td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>move_data_b</strong></td>
            <td>
<p>memory optimization: move data to matrix_c such that matrix_a is empty on return
memory optimization: move data to matrix_c such that matrix_b is empty on return
for internal use only</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-retain_sparsity~6"></span>
              logical,
            </td>
<td>intent(in),</td>
              <td>optional</td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>retain_sparsity</strong></td>
            <td>
<p>memory optimization: move data to matrix_c such that matrix_a is empty on return
memory optimization: move data to matrix_c such that matrix_b is empty on return
for internal use only</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-simple_split"></span>
              logical,
            </td>
<td>intent(in),</td>
              <td>optional</td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>simple_split</strong></td>
            <td>
<p>memory optimization: move data to matrix_c such that matrix_a is empty on return
memory optimization: move data to matrix_c such that matrix_b is empty on return
for internal use only</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-result_index"></span>
              integer(kind=int_8),
            </td>
<td>intent(out),</td>
              <td>optional,</td>            <td>
              DIMENSION(:, :), ALLOCATABLE
            </td>
            <td>::</td>
            <td><strong>result_index</strong></td>
            <td>

            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-unit_nr~20"></span>
              integer,
            </td>
<td>intent(in),</td>
              <td>optional</td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>unit_nr</strong></td>
            <td>
<p>unit number for logging output</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-log_verbose~3"></span>
              logical,
            </td>
<td>intent(in),</td>
              <td>optional</td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>log_verbose</strong></td>
            <td>
<p>only for testing: verbose output</p>
            </td>
        </tr>
    </tbody>
  </table>


    </div>
  </div>

              <div class="card">
    <div class="card-header codesum"><span class="anchor" id="proc-redistribute_and_sum"></span> <h3>private  subroutine <a href='../proc/redistribute_and_sum.html'>redistribute_and_sum</a>(matrix_in, matrix_out, local_copy, alpha)  
</h3></div>
    <div class="card-body">
          
  

  <h4>Arguments</h4>
      <table class="table table-striped varlist">
    <thead>
      <tr>
        <th scope="col">Type</th>
<th scope="col">Intent</th><th scope="col">Optional</th>        <th scope="col">Attributes</th>
        <th scope="col"></th>
        <th scope="col">Name</th>
        <th scope="col"></th>
    </thead>
    <tbody>
        <tr>
            <td>
              <span class="anchor" id="variable-matrix_in~8"></span>
              type(<a href='../type/dbcsr_type.html'>dbcsr_type</a>),
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>matrix_in</strong></td>
            <td>

            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-matrix_out~6"></span>
              type(<a href='../type/dbcsr_type.html'>dbcsr_type</a>),
            </td>
<td>intent(inout)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>matrix_out</strong></td>
            <td>

            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-local_copy"></span>
              logical,
            </td>
<td>intent(in),</td>
              <td>optional</td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>local_copy</strong></td>
            <td>

            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-alpha~26"></span>
              type(<a href='../type/dbcsr_scalar_type.html'>dbcsr_scalar_type</a>),
            </td>
<td>intent(in),</td>
              <td>optional</td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>alpha</strong></td>
            <td>

            </td>
        </tr>
    </tbody>
  </table>


    </div>
  </div>

              <div class="card">
    <div class="card-header codesum"><span class="anchor" id="proc-reshape_mm_small"></span> <h3>private  subroutine <a href='../proc/reshape_mm_small.html'>reshape_mm_small</a>(mp_comm, matrix_in, matrix_out, transposed, trans, nodata, move_data)  
</h3></div>
    <div class="card-body">
          
  <p>Make sure that smallest matrix involved in a multiplication is not split and bring it to
the same process grid as the other 2 matrices.</p>

  <h4>Arguments</h4>
      <table class="table table-striped varlist">
    <thead>
      <tr>
        <th scope="col">Type</th>
<th scope="col">Intent</th><th scope="col">Optional</th>        <th scope="col">Attributes</th>
        <th scope="col"></th>
        <th scope="col">Name</th>
        <th scope="col"></th>
    </thead>
    <tbody>
        <tr>
            <td>
              <span class="anchor" id="variable-mp_comm~29"></span>
              type(<a href='../type/mp_comm_type.html'>mp_comm_type</a>),
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>mp_comm</strong></td>
            <td>
<p>communicator that defines Cartesian topology</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-matrix_in~9"></span>
              type(<a href='../type/dbcsr_tas_type.html'>dbcsr_tas_type</a>),
            </td>
<td>intent(inout)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>matrix_in</strong></td>
            <td>

            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-matrix_out~7"></span>
              type(<a href='../type/dbcsr_tas_type.html'>dbcsr_tas_type</a>),
            </td>
<td>intent(out)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>matrix_out</strong></td>
            <td>

            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-transposed~26"></span>
              logical,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>transposed</strong></td>
            <td>
<p>Whether matrix_out should be transposed</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-trans"></span>
              character(len=1),
            </td>
<td>intent(inout)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>trans</strong></td>
            <td>
<p>update transpose flag for DBCSR mm according to 'transposed' argument</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-nodata~3"></span>
              logical,
            </td>
<td>intent(in),</td>
              <td>optional</td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>nodata</strong></td>
            <td>
<p>Data of matrix_in should not be copied to matrix_out
memory optimization: move data such that matrix_in is empty on return.</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-move_data~5"></span>
              logical,
            </td>
<td>intent(in),</td>
              <td>optional</td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>move_data</strong></td>
            <td>
<p>Data of matrix_in should not be copied to matrix_out
memory optimization: move data such that matrix_in is empty on return.</p>
            </td>
        </tr>
    </tbody>
  </table>


    </div>
  </div>

              <div class="card">
    <div class="card-header codesum"><span class="anchor" id="proc-reshape_mm_compatible"></span> <h3>private  subroutine <a href='../proc/reshape_mm_compatible.html'>reshape_mm_compatible</a>(matrix1_in, matrix2_in, matrix1_out, matrix2_out, new1, new2, trans1, trans2, optimize_dist, nsplit, opt_nsplit, split_rc_1, split_rc_2, nodata1, nodata2, move_data_1, move_data_2, comm_new, unit_nr)  
</h3></div>
    <div class="card-body">
          
  <p>Reshape either matrix1 or matrix2 to make sure that their process grids are compatible with
the same split factor.</p>

  <h4>Arguments</h4>
      <table class="table table-striped varlist">
    <thead>
      <tr>
        <th scope="col">Type</th>
<th scope="col">Intent</th><th scope="col">Optional</th>        <th scope="col">Attributes</th>
        <th scope="col"></th>
        <th scope="col">Name</th>
        <th scope="col"></th>
    </thead>
    <tbody>
        <tr>
            <td>
              <span class="anchor" id="variable-matrix1_in"></span>
              type(<a href='../type/dbcsr_tas_type.html'>dbcsr_tas_type</a>),
            </td>
<td>intent(inout),</td>
              <td></td>            <td>
              TARGET
            </td>
            <td>::</td>
            <td><strong>matrix1_in</strong></td>
            <td>

            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-matrix2_in"></span>
              type(<a href='../type/dbcsr_tas_type.html'>dbcsr_tas_type</a>),
            </td>
<td>intent(inout),</td>
              <td></td>            <td>
              TARGET
            </td>
            <td>::</td>
            <td><strong>matrix2_in</strong></td>
            <td>

            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-matrix1_out"></span>
              type(<a href='../type/dbcsr_tas_type.html'>dbcsr_tas_type</a>),
            </td>
<td>intent(out),</td>
              <td></td>            <td>
              POINTER
            </td>
            <td>::</td>
            <td><strong>matrix1_out</strong></td>
            <td>

            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-matrix2_out"></span>
              type(<a href='../type/dbcsr_tas_type.html'>dbcsr_tas_type</a>),
            </td>
<td>intent(out),</td>
              <td></td>            <td>
              POINTER
            </td>
            <td>::</td>
            <td><strong>matrix2_out</strong></td>
            <td>

            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-new1"></span>
              logical,
            </td>
<td>intent(out)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>new1</strong></td>
            <td>
<p>Whether matrix1_out is a new matrix or simply pointing to matrix1_in
Whether matrix2_out is a new matrix or simply pointing to matrix2_in</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-new2"></span>
              logical,
            </td>
<td>intent(out)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>new2</strong></td>
            <td>
<p>Whether matrix1_out is a new matrix or simply pointing to matrix1_in
Whether matrix2_out is a new matrix or simply pointing to matrix2_in</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-trans1"></span>
              character(len=1),
            </td>
<td>intent(inout)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>trans1</strong></td>
            <td>
<p>transpose flag of matrix1_in for multiplication
transpose flag of matrix2_in for multiplication</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-trans2"></span>
              character(len=1),
            </td>
<td>intent(inout)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>trans2</strong></td>
            <td>
<p>transpose flag of matrix1_in for multiplication
transpose flag of matrix2_in for multiplication</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-optimize_dist~2"></span>
              logical,
            </td>
<td>intent(in),</td>
              <td>optional</td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>optimize_dist</strong></td>
            <td>
<p>experimental: optimize matrix splitting and distribution</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-nsplit~6"></span>
              integer,
            </td>
<td>intent(in),</td>
              <td>optional</td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>nsplit</strong></td>
            <td>
<p>Optimal split factor (set to 0 if split factor should not be changed)</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-opt_nsplit~2"></span>
              logical,
            </td>
<td>intent(in),</td>
              <td>optional</td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>opt_nsplit</strong></td>
            <td>

            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-split_rc_1"></span>
              integer,
            </td>
<td>intent(inout)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>split_rc_1</strong></td>
            <td>
<p>Whether to split rows or columns for matrix 1
Whether to split rows or columns for matrix 2</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-split_rc_2"></span>
              integer,
            </td>
<td>intent(inout)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>split_rc_2</strong></td>
            <td>
<p>Whether to split rows or columns for matrix 1
Whether to split rows or columns for matrix 2</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-nodata1"></span>
              logical,
            </td>
<td>intent(in),</td>
              <td>optional</td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>nodata1</strong></td>
            <td>
<p>Don't copy matrix data from matrix1_in to matrix1_out
Don't copy matrix data from matrix2_in to matrix2_out</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-nodata2"></span>
              logical,
            </td>
<td>intent(in),</td>
              <td>optional</td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>nodata2</strong></td>
            <td>
<p>Don't copy matrix data from matrix1_in to matrix1_out
Don't copy matrix data from matrix2_in to matrix2_out</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-move_data_1"></span>
              logical,
            </td>
<td>intent(inout),</td>
              <td>optional</td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>move_data_1</strong></td>
            <td>
<p>memory optimization: move data such that matrix1_in may be empty on return.
memory optimization: move data such that matrix2_in may be empty on return.</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-move_data_2"></span>
              logical,
            </td>
<td>intent(inout),</td>
              <td>optional</td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>move_data_2</strong></td>
            <td>
<p>memory optimization: move data such that matrix1_in may be empty on return.
memory optimization: move data such that matrix2_in may be empty on return.</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-comm_new"></span>
              type(<a href='../type/mp_comm_type.html'>mp_comm_type</a>),
            </td>
<td>intent(out),</td>
              <td>optional</td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>comm_new</strong></td>
            <td>
<p>returns the new communicator only if optimize_dist</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-unit_nr~21"></span>
              integer,
            </td>
<td>intent(in),</td>
              <td>optional</td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>unit_nr</strong></td>
            <td>
<p>output unit</p>
            </td>
        </tr>
    </tbody>
  </table>


    </div>
  </div>

              <div class="card">
    <div class="card-header codesum"><span class="anchor" id="proc-change_split"></span> <h3>private  subroutine <a href='../proc/change_split.html'>change_split</a>(matrix_in, matrix_out, nsplit, split_rowcol, is_new, opt_nsplit, move_data, nodata)  
</h3></div>
    <div class="card-body">
          
  <p>Change split factor without redistribution</p>

  <h4>Arguments</h4>
      <table class="table table-striped varlist">
    <thead>
      <tr>
        <th scope="col">Type</th>
<th scope="col">Intent</th><th scope="col">Optional</th>        <th scope="col">Attributes</th>
        <th scope="col"></th>
        <th scope="col">Name</th>
        <th scope="col"></th>
    </thead>
    <tbody>
        <tr>
            <td>
              <span class="anchor" id="variable-matrix_in~10"></span>
              type(<a href='../type/dbcsr_tas_type.html'>dbcsr_tas_type</a>),
            </td>
<td>intent(inout),</td>
              <td></td>            <td>
              TARGET
            </td>
            <td>::</td>
            <td><strong>matrix_in</strong></td>
            <td>

            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-matrix_out~8"></span>
              type(<a href='../type/dbcsr_tas_type.html'>dbcsr_tas_type</a>),
            </td>
<td>intent(out),</td>
              <td></td>            <td>
              POINTER
            </td>
            <td>::</td>
            <td><strong>matrix_out</strong></td>
            <td>

            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-nsplit~7"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>nsplit</strong></td>
            <td>
<p>new split factor, set to 0 to not change split of matrix_in</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-split_rowcol~5"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>split_rowcol</strong></td>
            <td>
<p>split rows or columns</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-is_new"></span>
              logical,
            </td>
<td>intent(out)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>is_new</strong></td>
            <td>
<p>whether matrix_out is new or a pointer to matrix_in</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-opt_nsplit~3"></span>
              logical,
            </td>
<td>intent(in),</td>
              <td>optional</td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>opt_nsplit</strong></td>
            <td>
<p>whether nsplit should be optimized for current process grid</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-move_data~6"></span>
              logical,
            </td>
<td>intent(inout),</td>
              <td>optional</td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>move_data</strong></td>
            <td>
<p>memory optimization: move data such that matrix_in is empty on return.</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-nodata~4"></span>
              logical,
            </td>
<td>intent(in),</td>
              <td>optional</td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>nodata</strong></td>
            <td>
<p>Data of matrix_in should not be copied to matrix_out</p>
            </td>
        </tr>
    </tbody>
  </table>


    </div>
  </div>

              <div class="card">
    <div class="card-header codesum"><span class="anchor" id="proc-reshape_mm_template"></span> <h3>private  subroutine <a href='../proc/reshape_mm_template.html'>reshape_mm_template</a>(template, matrix_in, matrix_out, trans, split_rc, nodata, move_data)  
</h3></div>
    <div class="card-body">
          
  <p>Reshape matrix_in s.t. it has same process grid, distribution and split as template</p>

  <h4>Arguments</h4>
      <table class="table table-striped varlist">
    <thead>
      <tr>
        <th scope="col">Type</th>
<th scope="col">Intent</th><th scope="col">Optional</th>        <th scope="col">Attributes</th>
        <th scope="col"></th>
        <th scope="col">Name</th>
        <th scope="col"></th>
    </thead>
    <tbody>
        <tr>
            <td>
              <span class="anchor" id="variable-template~2"></span>
              type(<a href='../type/dbcsr_tas_type.html'>dbcsr_tas_type</a>),
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>template</strong></td>
            <td>

            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-matrix_in~11"></span>
              type(<a href='../type/dbcsr_tas_type.html'>dbcsr_tas_type</a>),
            </td>
<td>intent(inout)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>matrix_in</strong></td>
            <td>

            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-matrix_out~9"></span>
              type(<a href='../type/dbcsr_tas_type.html'>dbcsr_tas_type</a>),
            </td>
<td>intent(out)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>matrix_out</strong></td>
            <td>

            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-trans~2"></span>
              character(len=1),
            </td>
<td>intent(inout)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>trans</strong></td>
            <td>

            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-split_rc~3"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>split_rc</strong></td>
            <td>

            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-nodata~5"></span>
              logical,
            </td>
<td>intent(in),</td>
              <td>optional</td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>nodata</strong></td>
            <td>

            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-move_data~7"></span>
              logical,
            </td>
<td>intent(in),</td>
              <td>optional</td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>move_data</strong></td>
            <td>

            </td>
        </tr>
    </tbody>
  </table>


    </div>
  </div>

              <div class="card">
    <div class="card-header codesum"><span class="anchor" id="proc-dbcsr_tas_result_index"></span> <h3>public  subroutine <a href='../proc/dbcsr_tas_result_index.html'>dbcsr_tas_result_index</a>(transa, transb, transc, matrix_a, matrix_b, matrix_c, filter_eps, unit_nr, blk_ind, nze, retain_sparsity)  
</h3></div>
    <div class="card-body">
          
  <p>Estimate sparsity pattern of C resulting from A x B = C by multiplying the block norms of A and B
Same dummy arguments as dbcsr_tas_multiply</p>

  <h4>Arguments</h4>
      <table class="table table-striped varlist">
    <thead>
      <tr>
        <th scope="col">Type</th>
<th scope="col">Intent</th><th scope="col">Optional</th>        <th scope="col">Attributes</th>
        <th scope="col"></th>
        <th scope="col">Name</th>
        <th scope="col"></th>
    </thead>
    <tbody>
        <tr>
            <td>
              <span class="anchor" id="variable-transa~8"></span>
              character(len=1),
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>transa</strong></td>
            <td>

            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-transb~8"></span>
              character(len=1),
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>transb</strong></td>
            <td>

            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-transc~4"></span>
              character(len=1),
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>transc</strong></td>
            <td>

            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-matrix_a~55"></span>
              type(<a href='../type/dbcsr_tas_type.html'>dbcsr_tas_type</a>),
            </td>
<td>intent(inout),</td>
              <td></td>            <td>
              TARGET
            </td>
            <td>::</td>
            <td><strong>matrix_a</strong></td>
            <td>

            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-matrix_b~36"></span>
              type(<a href='../type/dbcsr_tas_type.html'>dbcsr_tas_type</a>),
            </td>
<td>intent(inout),</td>
              <td></td>            <td>
              TARGET
            </td>
            <td>::</td>
            <td><strong>matrix_b</strong></td>
            <td>

            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-matrix_c~10"></span>
              type(<a href='../type/dbcsr_tas_type.html'>dbcsr_tas_type</a>),
            </td>
<td>intent(inout),</td>
              <td></td>            <td>
              TARGET
            </td>
            <td>::</td>
            <td><strong>matrix_c</strong></td>
            <td>

            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-filter_eps~13"></span>
              real(kind=real_8),
            </td>
<td>intent(in),</td>
              <td>optional</td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>filter_eps</strong></td>
            <td>

            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-unit_nr~23"></span>
              integer,
            </td>
<td>intent(in),</td>
              <td>optional</td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>unit_nr</strong></td>
            <td>

            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-blk_ind~4"></span>
              integer(kind=int_8),
            </td>
<td>intent(out),</td>
              <td>optional,</td>            <td>
              DIMENSION(:, :), ALLOCATABLE
            </td>
            <td>::</td>
            <td><strong>blk_ind</strong></td>
            <td>

            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-nze~35"></span>
              integer(kind=int_8),
            </td>
<td>intent(out),</td>
              <td>optional</td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>nze</strong></td>
            <td>

            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-retain_sparsity~7"></span>
              logical,
            </td>
<td>intent(in),</td>
              <td>optional</td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>retain_sparsity</strong></td>
            <td>

            </td>
        </tr>
    </tbody>
  </table>


    </div>
  </div>

              <div class="card">
    <div class="card-header codesum"><span class="anchor" id="proc-create_block_norms_matrix"></span> <h3>private  subroutine <a href='../proc/create_block_norms_matrix.html'>create_block_norms_matrix</a>(matrix_in, matrix_out, nodata)  
</h3></div>
    <div class="card-body">
          
  <p>Create a matrix with block sizes one that contains the block norms of matrix_in</p>

  <h4>Arguments</h4>
      <table class="table table-striped varlist">
    <thead>
      <tr>
        <th scope="col">Type</th>
<th scope="col">Intent</th><th scope="col">Optional</th>        <th scope="col">Attributes</th>
        <th scope="col"></th>
        <th scope="col">Name</th>
        <th scope="col"></th>
    </thead>
    <tbody>
        <tr>
            <td>
              <span class="anchor" id="variable-matrix_in~12"></span>
              type(<a href='../type/dbcsr_tas_type.html'>dbcsr_tas_type</a>),
            </td>
<td>intent(inout)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>matrix_in</strong></td>
            <td>

            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-matrix_out~10"></span>
              type(<a href='../type/dbcsr_tas_type.html'>dbcsr_tas_type</a>),
            </td>
<td>intent(out)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>matrix_out</strong></td>
            <td>

            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-nodata~6"></span>
              logical,
            </td>
<td>intent(in),</td>
              <td>optional</td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>nodata</strong></td>
            <td>

            </td>
        </tr>
    </tbody>
  </table>


    </div>
  </div>

              <div class="card">
    <div class="card-header codesum"><span class="anchor" id="proc-convert_to_new_pgrid"></span> <h3>private  subroutine <a href='../proc/convert_to_new_pgrid.html'>convert_to_new_pgrid</a>(mp_comm_cart, matrix_in, matrix_out, move_data, nodata, optimize_pgrid)  
</h3></div>
    <div class="card-body">
          
  <p>Convert a DBCSR matrix to a new process grid</p>

  <h4>Arguments</h4>
      <table class="table table-striped varlist">
    <thead>
      <tr>
        <th scope="col">Type</th>
<th scope="col">Intent</th><th scope="col">Optional</th>        <th scope="col">Attributes</th>
        <th scope="col"></th>
        <th scope="col">Name</th>
        <th scope="col"></th>
    </thead>
    <tbody>
        <tr>
            <td>
              <span class="anchor" id="variable-mp_comm_cart"></span>
              type(<a href='../type/mp_comm_type.html'>mp_comm_type</a>),
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>mp_comm_cart</strong></td>
            <td>
<p>new process grid</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-matrix_in~13"></span>
              type(<a href='../type/dbcsr_type.html'>dbcsr_type</a>),
            </td>
<td>intent(inout)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>matrix_in</strong></td>
            <td>

            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-matrix_out~11"></span>
              type(<a href='../type/dbcsr_type.html'>dbcsr_type</a>),
            </td>
<td>intent(out)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>matrix_out</strong></td>
            <td>

            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-move_data~8"></span>
              logical,
            </td>
<td>intent(in),</td>
              <td>optional</td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>move_data</strong></td>
            <td>
<p>memory optimization: move data such that matrix_in is empty on return.
Data of matrix_in should not be copied to matrix_out</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-nodata~7"></span>
              logical,
            </td>
<td>intent(in),</td>
              <td>optional</td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>nodata</strong></td>
            <td>
<p>memory optimization: move data such that matrix_in is empty on return.
Data of matrix_in should not be copied to matrix_out</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-optimize_pgrid"></span>
              logical,
            </td>
<td>intent(in),</td>
              <td>optional</td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>optimize_pgrid</strong></td>
            <td>
<p>Whether to change process grid</p>
            </td>
        </tr>
    </tbody>
  </table>


    </div>
  </div>

              <div class="card">
    <div class="card-header codesum"><span class="anchor" id="proc-dbcsr_tas_batched_mm_init"></span> <h3>public  subroutine <a href='../proc/dbcsr_tas_batched_mm_init.html'>dbcsr_tas_batched_mm_init</a>(matrix)  
</h3></div>
    <div class="card-body">
          
  

  <h4>Arguments</h4>
      <table class="table table-striped varlist">
    <thead>
      <tr>
        <th scope="col">Type</th>
<th scope="col">Intent</th><th scope="col">Optional</th>        <th scope="col">Attributes</th>
        <th scope="col"></th>
        <th scope="col">Name</th>
        <th scope="col"></th>
    </thead>
    <tbody>
        <tr>
            <td>
              <span class="anchor" id="variable-matrix~131"></span>
              type(<a href='../type/dbcsr_tas_type.html'>dbcsr_tas_type</a>),
            </td>
<td>intent(inout)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>matrix</strong></td>
            <td>

            </td>
        </tr>
    </tbody>
  </table>


    </div>
  </div>

              <div class="card">
    <div class="card-header codesum"><span class="anchor" id="proc-dbcsr_tas_batched_mm_finalize"></span> <h3>public  subroutine <a href='../proc/dbcsr_tas_batched_mm_finalize.html'>dbcsr_tas_batched_mm_finalize</a>(matrix)  
</h3></div>
    <div class="card-body">
          
  

  <h4>Arguments</h4>
      <table class="table table-striped varlist">
    <thead>
      <tr>
        <th scope="col">Type</th>
<th scope="col">Intent</th><th scope="col">Optional</th>        <th scope="col">Attributes</th>
        <th scope="col"></th>
        <th scope="col">Name</th>
        <th scope="col"></th>
    </thead>
    <tbody>
        <tr>
            <td>
              <span class="anchor" id="variable-matrix~132"></span>
              type(<a href='../type/dbcsr_tas_type.html'>dbcsr_tas_type</a>),
            </td>
<td>intent(inout)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>matrix</strong></td>
            <td>

            </td>
        </tr>
    </tbody>
  </table>


    </div>
  </div>

              <div class="card">
    <div class="card-header codesum"><span class="anchor" id="proc-dbcsr_tas_set_batched_state"></span> <h3>public  subroutine <a href='../proc/dbcsr_tas_set_batched_state.html'>dbcsr_tas_set_batched_state</a>(matrix, state, opt_grid)  
</h3></div>
    <div class="card-body">
          
  <p>set state flags during batched multiplication</p>

  <h4>Arguments</h4>
      <table class="table table-striped varlist">
    <thead>
      <tr>
        <th scope="col">Type</th>
<th scope="col">Intent</th><th scope="col">Optional</th>        <th scope="col">Attributes</th>
        <th scope="col"></th>
        <th scope="col">Name</th>
        <th scope="col"></th>
    </thead>
    <tbody>
        <tr>
            <td>
              <span class="anchor" id="variable-matrix~133"></span>
              type(<a href='../type/dbcsr_tas_type.html'>dbcsr_tas_type</a>),
            </td>
<td>intent(inout)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>matrix</strong></td>
            <td>

            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-state"></span>
              integer,
            </td>
<td>intent(in),</td>
              <td>optional</td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>state</strong></td>
            <td>
<a href="../proc/dbcsr_tas_set_batched_state.html#variable-state" class="pull-right"><emph>Read more&hellip;</emph></a>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-opt_grid"></span>
              logical,
            </td>
<td>intent(in),</td>
              <td>optional</td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>opt_grid</strong></td>
            <td>
<p>whether process grid was already optimized and should not be changed</p>
            </td>
        </tr>
    </tbody>
  </table>


    </div>
  </div>

              <div class="card">
    <div class="card-header codesum"><span class="anchor" id="proc-dbcsr_tas_batched_mm_complete"></span> <h3>public  subroutine <a href='../proc/dbcsr_tas_batched_mm_complete.html'>dbcsr_tas_batched_mm_complete</a>(matrix, warn)  
</h3></div>
    <div class="card-body">
          
  

  <h4>Arguments</h4>
      <table class="table table-striped varlist">
    <thead>
      <tr>
        <th scope="col">Type</th>
<th scope="col">Intent</th><th scope="col">Optional</th>        <th scope="col">Attributes</th>
        <th scope="col"></th>
        <th scope="col">Name</th>
        <th scope="col"></th>
    </thead>
    <tbody>
        <tr>
            <td>
              <span class="anchor" id="variable-matrix~134"></span>
              type(<a href='../type/dbcsr_tas_type.html'>dbcsr_tas_type</a>),
            </td>
<td>intent(inout)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>matrix</strong></td>
            <td>

            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-warn"></span>
              logical,
            </td>
<td>intent(in),</td>
              <td>optional</td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>warn</strong></td>
            <td>

            </td>
        </tr>
    </tbody>
  </table>


    </div>
  </div>

        </section>
        <br>



    </div>
  </div>

      <hr>
    </div> <!-- /container -->
    <footer>
      <div class="container">
        <div class="row justify-content-between">
          <div class="col">
            <p>
              DBCSR
 was developed by DBCSR Authors<br>              &copy; 2024 
</p>
          </div>
          <div class="col">
            <p class="text-end">
              Documentation generated by
              <a href="https://github.com/Fortran-FOSS-Programmers/ford">FORD</a>
            </p>
          </div>
        </div>
        <br>
      </div> <!-- /container -->
    </footer>

    <!-- Bootstrap core JavaScript -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>    

    <!-- MathJax JavaScript
             ================================================== -->
             <!-- Placed at the end of the document so the pages load faster -->
        <script type="text/x-mathjax-config">
          MathJax.Hub.Config({
          TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } },
          jax: ['input/TeX','input/MathML','output/HTML-CSS'],
          extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']
          });
        </script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>


  </body>
</html>